<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="paul pierrard">
    <!-- bootsrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">
    <!-- feuille de style perso -->
    <link rel="stylesheet" href="assets/css/style.css">
    <title>clause_sql</title>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-light bg-light  border-bottom border-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="#"><img src="assets/img/logo.png" alt="logo"></a>
                <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapsibleNavId" aria-controls="collapsibleNavId" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="collapsibleNavId">
                    <ul class="navbar-nav me-auto mt-2 mt-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Acronyme</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cours.html">cours</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="clause_sql.html">Les clauses SQL</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="pratique_sql.html">Pratique SQL</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <main>
            <div class="row border border-dark p-5">
                <div class="col-sm-12">
                    <h2 class="text-center">1-Les requêtes de base</h2>
                    <hr>
                </div>
            </div>
            <div class="col-sm-12 d-flex justify-content-center mt-5 ">
                <ul>
                    <li>Créer une base de donnée : <strong><code>CREATE DATABASE IF NOT EXISTS nomBdd </code> </strong></li>
                    <li>Supprimer une BDD : <strong><code>DROP DATABASE IF EXISTS nonBdd</code></strong></li>
                    <li>Observer la description d'une table : <strong><code>DESC nomTble</code></strong></li>
                    <li>Voire les BDD dans le serveur : <strong><code>SHOW DATABASES</code></strong></li>
                </ul>
            </div>
        
        </div>
    <div class="container">
        
            <div class="row border border-dark p-5">
                <div class="col-sm-12">
                    <h2 class="text-center">2 - Tables et colonnes</h2>
                    <hr>
                </div>
            </div>
            <div class="col-sm-12 d-flex justify-content-center mt-5 ">
                <ul>
                    <li>Créer une BDD 'entreprise' : <strong><code>CREATE DATABASE IF NOT EXISTS entreprise</code></strong></li>
                    <li><pre>Créer une table 'employes' dans la BDD 'entreprise' : 
                            <strong><code>
                                    CREATE TABLE IF NOT EXISTS employes(
                                    id_employes INT(11) NOT NULL PRIMARY KEY AUTO_INCREMENT, 
                                    prenom VARCHAR(20) NULL,
                                    nom VARCHAR(50) NULL , 
                                    sex ENUM ('F', 'm') NOT NULL, 
                                    service VARCHAR(30) NULL , 
                                    date_embauche DATE NULL, 
                                    salaire FLOAT NULL 
                                    )
                                </code></strong></pre>
                    </li>
                    <li>
                        Inserer des données dans une table : 
                        <strong>
                            <code>
                                <pre>
                                    INSERT INTO employes (id_employes, prenom, nom, sex, service, date_embauche, salaire)
                                    VALUES (350, 'Marc', 'ISAC', 'm', 'direction', '2023-12-01', 5000),
                                    (351, 'Paul', 'PIERRARD', 'm', 'directeur', '2002-11-13', 50000)

                                </pre>
                            </code>
                        </strong>
                    </li>
                    <li>
                        Syntaxe alternative : ne permet pas d'insérer plusieurs séries de valeurs en une sele requette, contrairement à la syntaxe de base (au dessus)
                        <pre>
                            <strong>
                                <code>
                                    INSERT INTO employes SET id_employes = 900 , prenom = 'Sahar' , 
                                    nom = 'FERCHICHI', sex = 'f' ,service = 'direction', date_embauche= '2022-06-06' , salaire= 7000
                                </code>
                            </strong>
                        </pre>
                    </li>
                    <li>
                        Effacer une table : <strong><code>DROP TABLE nomTable</code></strong>
                    </li>
                </ul>
            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12">
                    <h2 class="text-center">3 - SELECT & DISTINCT</h2>
                    <hr>
                </div>
            </div>
            <div class="col-sm-12 d-flex justify-content-center mt-5 ">
               <ul>
                <li>Pour voire tous le contenue d'une table : <strong><code>SELECT * FROM employes</code></strong></li>
                <li class="alert  alert-success ">selectioner les valeurs de deux champs d'une table : SELECT colonne1, colonne2 FROM nomTable
                    <br><strong><code>
                        -> SELECT prenom, nom FROM employes
                    </code></strong> 
                </li>
                <li class="alert  alert-success">Afficher les donnees sans doublons : SELECT DISTINCT (clonne) FROM nomTable
                    <strong>
                        <code>
                            -> SELECT DISTINCT service FROME employes
                        </code>
                    </strong>
                </li>
                <li>
                    Effacer un enregistrement : DELETE FROM nomTable WHERE colonne = " "
                    <strong><code>DELETE FROM employes WHERE nom = 'salimata' </code></strong>
                </li>
               </ul>
            </div>
            <div class="col-sm-12 col-md-6 mt-5">
                <p class="alert alert-danger ">
                    Les requetes ne sont pas sensible a la casse mais les conventions idique q'il faut des mot cléfs des requetes en MAJ. C'est plus facile ainci de s'y retrouver.
                </p>
            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12">
                    <h2 class="text-center">4-Les opérateurs de comparaison</h2>
                    <hr>
                </div>
            </div>
            <div class="col-sm-12 mt-5 text-center ">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Operateur</th>
                            <th scope="col">Symbole</th>
                        </tr>
                    </thead>
                    <tbody>
                            <tr>
                            <th scope="row">=</th>
                            <td>Est égal à</td>
                        </tr>
                        <tr>
                            <th scope="row">&gt;</th>
                            <td>Strictement supèrieur à</td>
                        </tr>
                        <tr>
                            <th scope="row">&lt;</th>
                            <td>Strictement infèrieur à</td>
                        </tr>
                        <tr>
                            <th scope="row">&gt;=</th>
                            <td>Supèrieur ou égal à</td>
                        </tr>
                        <tr>
                            <th scope="row">&lt;=</th>
                            <td>Infèrieur ou égal à</td>
                        </tr>
                        <tr>
                            <th scope="row">&lt; &gt; ou !=</th>
                            <td>Est different de</td>
                        </tr>
                    </tbody>
                </table>
                <p class="exo">

                    <span class="text-success">EXERCICES</span> <br><br>
                    
                        exo 1 : <br>
                        <strong><code>SELECT * FROM employes WHERE service = "commercial"</code></strong> <br><br>
    
                        Exo 2 :<br> 
    
                        <strong><code>SELECT * FROM `employes` WHERE service != "direction"</code></strong><br><br>
    
                        Exo 3 : <br>
    
                        <strong><code>SELECT * FROM `employes` WHERE id_employe > 500</code></strong><br><br>
    
                        Exo 4 : <br>
    
                        <strong><code>SELECT * FROM `employes` WHERE salaire >= 3200</code></strong><br><br>
                    

                </p>
            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12">
                    <h2 class="text-center">5 - Créee un ALIAS avec AS</h2>
                    <hr>
                </div>
            </div>
            <div class="col-sm-12 mt-5 text-center ">

                <P>
                    Nous ceéons un ALIAS pour renomer temporairement une colone ou une table dans une requête
                    Cette astuce est particulièrement utiliser pour faciliter la lecture des requettes 
                </P>
                <ul>
                    <li>SELECT colone1,colone2,colone3 AS colone FROM nomTable</li>
                    <li>
                        <strong>
                            <code>
                                SELECT nom , prenom AS firstName FROM employes
                            </code>
                        </strong>
                    </li>
                    <li>
                        <strong>
                            <code>
                                SELECT nom , prenom , salaire*12 AS salireAnuelle FROM employes
                            </code>
                        </strong>
                    </li>
                </ul>
                
            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12">
                    <h2 class="text-center">6 - Les conditions et les conditions multiples</h2>
                    <hr>
                </div>
            </div>
            <div class="col-sm-12 mt-5 text-center ">
                <h6 class="text-center">Le mot cléf <em>WHERE</em> (à condition que) </h6>
                <ul>
                    <li class="alert alert-success">Nous cherchons une condition une partie des donées:
                        <code>SELECT colone,colone FROM table WHERE colone = 'donnée'</code>
                    </li>
                    <li>Ici nous cherchons à afficher les personnes dont le sex est masculin</li>
                    <li>Trouver èle personne qui gagne 700:
                        <code>SELECT nom,prenom,salaire FROM `employes` WHERE salaire = 7000</code>
                    </li>
                </ul>
                <div class="col-sm-12 mt-5 text-center ">
                    <h6 class="text-center">Le mot cléf <em>WHERE</em> avec différentes valeurs et AND </h6>
                    <ul>
                        <li>
                            Nous cherchons l'emplyeé qui gagne 2300 euros et dont le service est commerciale
                            <code>SELECT * FROM `employes` WHERE salaire = 5000 AND service = "comptabilité"</code>
                        </li>
                    </ul>
                </div>
                <div class="col-sm-12 mt-5 text-center ">
                    <h6 class="text-center">Le mot cléf <em>WHERE</em> avec différentes champs, différents valeures et OR</h6>
                    <ul>
                        <li>
                            Nous cherchons les employes qui gagnent un salaire qui est egale à 5000 euros ou infèrieur ou egale a 2000 euros:
                            <strong>
                                <code>
                                    -> SELECT * FROM `employes` WHERE salaire = 5000 OR salaire &lt;= 2000
                                </code>
                            </strong>
                        </li>
                    </ul>
                </div>
                <div class="col-sm-12 mt-5 text-center ">
                    <h6 class="text-center">Le mot cléf <em>WHERE</em> et l'orde de prioriter sur les condition AND et OR</h6>
                    <ul>
                        <li> Nous cherchon à afficher les employer qui travaille dans le service direction et qui gagnent 4000 euros OU 7000.
                            <strong>
                                <code>
                                    SELECT * FROM `employes` WHERE salaire = 4000 OR salaire = 7000  AND service = "direction"
                                </code>
                            </strong>
                        </li>
                        <li>
                            Lporsequ'il y a AND OR au sein de la même requett, le système lit la condition de la requette de la droite vers la gauche , Ainsi il verra dabord <strong><code>salaire=4000 OR salaire=7000</code></strong>puis le service demandé
                        </li>
                        <li>
                            Pour garantire l'ordre de lecture (de la gauche vers la droite), nous uttiliserons des parenthèses
                        </li>
                        <li>
                            <strong>
                                <code>
                                    SELECT * FROM `employes` WHERE (salair
                                    e = 4000 OR salaire = 7000)  AND service = "direction"
                                </code>
                            </strong>
                        </li>
                    </ul>
                </div>
                <div class="col-sm-12 mt-5 text-center ">
                    <h6 class="text-center">Le mot cléf <em>WHERE</em> avec <em>BETWEEN</em> (entre)</h6>
                    <ul>
                        <li class="alert alert-success">
                            Nous cherchons avec une partie des données <br>
                        SELECT * FROM nomTable WHERE colonne BETWEEN donnée AND donnée
                        </li>
                        <li>
                            Nous cherchons a trouver le nombre de personnes embauchées entre 2021 et 2023 
                        </li>
                    </ul>
                </div>
                <div class="col-sm-12 mt-5 text-center ">
                    <h6 class="text-center">Le mot cléf <em>WHERE</em> avec <em>LIKE</em> (entre)</h6>
                    <ul>
                        <li>
                            Afficher les employer dont le prenom commence par la lettre s: <br>
                            <strong>
                                <code>
                                    SELECT * FROM employes WHERE prenom LIKE 's%'
                                </code>
                            </strong>
                        </li>
                        <li>
                            Cette methode sera tres utile dans oteur de rechèrche.
                        </li>
                        <li>
                            Dans cette ligne de code, le % signifie que =l'on recherche le "s" en debut du mot, ainsi, la suite de caractère vien après le "s"
                        </li>
                        <li>
                            Afficher les employés dont le prénom contient la lettre s
                            <strong>
                                <code>
                                    SELECT * FROM employes WHERE nom LIKE '%s%';
                                </code>
                            </strong>
                        </li>
                        <li>
                            Avec la presence du pourcentage avant et après le caractère rechercher nous demandons au sistème de trouver des enregistrements contenant l'expretion recherchée 
                        </li>

                    </ul>
                </div>
                <div class="col-sm-12 mt-5 text-center ">
                    <h6 class="text-center">Le mot cléf <em>WHERE</em> avec <em>CURDATE()</em> (date courante)</h6>
                    <ul>
                        <li class="alert alert-success">
                            C'ezst une fonction predefinie avec ses parenthèses
                        </li>
                        <li>
                            Une requette qui donne la date du serveur, la date du jour :
                            <strong>
                                <code>
                                    SELECT CURDATE()
                                </code>
                            </strong>
                        </li>
                        <li class="alert alert-danger">
                            Dans une BDD les date sont toujours en format état-unis yyyy-mm-dd
                        </li>
                        <li>
                            Afficher les employes embauchées entre 2021 et aujourd'hui : 
                            <strong>
                                <code>
                                    SELECT * FROM `employes` WHERE date_embauche BETWEEN "2022-01-01" AND CURDATE();
                                </code>
                            </strong>
                        </li>
                    </ul>
                </div>
                <div class="col-sm-12 mt-5 text-center ">
                    <h6 class="text-center">Le mot cléf <em>WHERE</em> avec <em>IN</em></h6>
                    <ul>
                        <li>
                            Egal (=) permet d'annonce q'une seul valeur tandit que IN permet d'anoncer plusieur valeurs 
                        </li>
                        <li>Trouver les employer de la comptabilité et du service informatique :
                            <strong>
                                <code>
                                    SELECT * FROM `employes` WHERE service IN ("comptabilité","informatique");
                                </code>
                            </strong>
                        </li>
                    </ul>
                </div>
                <div class="col-sm-12 mt-5 text-center ">
                    <h6 class="text-center">Le mot cléf <em>WHERE</em> avec <em>NOT IN</em></h6>
                    <ul>
                        <li>
                            Different de (!=) permet d'exclure une seule valeur , NOT IN permet d'exclure plusieurs valeurs
                        </li>
                        <li>Trouver les employer qui ne sont pas comptabilité et du service informatique :
                            <strong>
                                <code>
                                    SELECT nom,prenom,service FROM `employes` WHERE service NOT IN ("comptabilité","informatique");
                                </code>
                            </strong>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row border border-dark p-5">

                <div class="col-sm-12 mt-5">
                    <h2 class="text-center">7 - Classement avec ORDER BY</h2>
                    <hr>
                    <div class="col-sm-12 mt-5 text-center ">
                        <ul>
                            <li>
                                Grâce à <em>ORDER BY</em> on va classer les donée par ordre alphabetique
                            </li>
                            <li>
                                on rage les nom par ordre alphabetique  :
                                <strong>
                                    <code>
                                        SELECT prenom, nom FROM employes ORDER BY nom DESC
                                    </code>
                                </strong>
                            </li>
                            <li>
                                Fonctionne pour les string comme pour les nombre
                            </li>
                            <li>
                                on rage les nom par ordre numérique  :
                                <strong>
                                    <code>
                                        SELECT * FROM employes ORDER BY salaire DESC;
                                    </code>
                                </strong>
                            </li>
                            <li>
                                ORDER BYpermet de trier sur plusieurs colones 'tri multiples':
                                <strong>
                                    <code>
                                        SELECT * FROM employes ORDER BY service ASC , salaire DESC;
                                    </code>
                                </strong>
                            </li>
                        </ul>
                    </div>
                </div>


            </div>
            <div class="row border border-dark p-5">

                <div class="col-sm-12 mt-5">
                    <h2 class="text-center">8 - Limiter le resultats avec le mot clé <em>LIMIT</em></h2>
                    <hr>
                    <div class="col-sm-12 mt-5 text-center ">
                        <ul>
                            <li>
                                Afficher les employer en les classant par salire (du + grand au +petit) et en limitant le resultat à 3 : 
                                <strong>
                                    <code>
                                        SELECT * FROM `employes` ORDER BY salaire DESC LIMIT 0,3;
                                    </code>
                                </strong>
                            </li>
                            <li class="alert alert-danger">
                                le premier chiffre précise l'enregistrement de depart : 0 qui définit le premier enregistrement iformatique.
                                le second chiffre indique combien de resultat nos attendons.
                            </li>
                        </ul>
                    </div>
                </div>


            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12 mt-5">
                    <h2 class="text-center">9 - Réaliser des calcules de nos requêtes</h2>
                    <hr>
                    <div class="col-sm-12 mt-5  ">
                        <h6 class="text-center">Calculer une somme avec <em>SUM()</em>et une moyen avec <em>AVG()</em></h6>
                        <ul>
                            <li>
                                calculer la somme totale des salaire a l'anee des employés
                                <strong>
                                    <code>
                                        SELECT sum( salaire*12) AS salireTotal FROM employes;
                                    </code>
                                </strong>
                            </li>
                            <li>
                                calculer le salaire mensuel moyen de tout les employes :
                                <strong>
                                    <code>
                                        SELECT AVG( salaire) AS salireTotal FROM employes;
                                    </code>
                                </strong>
                            </li>
                        </ul>
                    </div>
                    <div class="col-sm-12 mt-5  ">
                        <h6 class="text-center">Arrondir avec <em>ROUND</em></h6>
                        <ul>
                            <li>
                                Grâce ROUND on peut arrondire le resultat d'un calcul :
                                <strong>
                                    <code>
                                        SELECT ROUND(sum( salaire*12) AS salireTotal FROM employes);
                                    </code>
                                </strong>
                            </li>
                            <li class="alert alert-danger">
                                On peut cumuler deux notions comme dans l'exemple précédent avec ROUND() ET AVG(); Attention a la syntaxe et aux parenthèses.
                            </li>
                        </ul>
                    </div>
                    <div class="col-sm-12 mt-5  ">
                        <h6 class="text-center">Compter avec <em>COUNT()</em></h6>
                        <ul>
                            <li>
                                Grâce a COUNT on peut compter les ligne de notre table :
                                <strong>
                                    <code>
                                        SELECT COUNT(*) AS nbrLigne FROM employes
                                    </code>
                                </strong>
                            </li>
                            <li>
                                compter et afficher le nombre d' employer de sex feminin dans la table
                                <strong>
                                    <code>
                                        SELECT COUNT(*) AS nbrLigne FROM employes WHERE sex = "f";
                                    </code>
                                </strong>
                            </li>
                        </ul>
                    </div>
                    <div class="col-sm-12 mt-5  ">
                        <h6 class="text-center">Isoler une valeur max et min <em>MIN() / max()</em></h6>
                        <ul>
                            <li>
                                Grâce a <em>MIN()</em> on peut le salaire min :
                                <strong>
                                    <code>
                                        SELECT MIN(salaire) FROM employes ;
                                    </code>
                                </strong>
                            </li>
                            <li>
                                Grâce a <em>max()</em> on peut le salaire max :
                                <strong>
                                    <code>
                                        SELECT MAX(salaire) FROM employes ;
                                    </code>
                                </strong>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12 mt-5">
                    <h2 class="text-center">10 - Les regroupement avec GROUP BY</h2>
                    <hr>
                    <div class="text-center">
                        <ul>
                            <li>
                                Ici on veut connaitre le nombre d'employer par service
                                <strong>
                                    <code>
                                        SELECT service, COUNT(*) AS nbrEmployes FROM employes GROUP BY service;
                                    </code>
                                </strong>
                            </li>
                        </ul>
                    </div>
                   
                </div>
            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12 mt-5">
                    <h2 class="text-center">11 - Le mot cléf HAVING</h2>
                    <hr>
                    <div class="text-center">
                        <ul>
                            <li>
                                Sélectioner et afficher seulement les services qui ont plus de deux employer : <br>
                                <strong>
                                    <code>
                                        SELECT service, COUNT(*) AS nbr_Employes FROM employes GROUP BY service HAVING COUNT(*) > 2;
                                    </code>
                                </strong>
                            </li>
                        </ul>
                    </div>
                   
                </div>
            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12 mt-5">
                    <h2 class="text-center">12 - requetes de modification</h2>
                    <hr>
                    <div class="text-center">
                        <h6>Mise à jour avec UPDATE</h6>
                        <ul>
                            <li>
                                augementer le salaira d'un employer :
                                <strong>
                                    <code>
                                        UPDATE employes SET salaire = 2700 WHERE id_employe = 380
                                    </code>
                                </strong>
                            </li>
                            <li class="alert alert-danger">
                                On utillise des id pour mettre à jour les informations de la base de donee c'est le seul élément unique 
                            </li>
                            <li>
                                pour faire plusieur mises à jour en même temps il faudra separer lezs donee par une virgule
                                <strong>
                                    <code>
                                        UPDATE employes SET service = "direction" ,salaire = 4000 WHERE id_employe = 380;
                                    </code>
                                </strong>
                            </li>
                        </ul>
                    </div>
                   
                </div>
                <div class="col-sm-12 mt-5">
                    <h6 class="text-center">Supprimer avec DELETE</h6>
                    <hr>
                    <div class="text-center">
                       <ul>
                        <li>
                            Supprimer l'enregistrement d'un employer avec DELETE
                            <strong>
                                <code>
                                    DELETE FROM employes WHERE id_employe = 910;
                                </code>
                            </strong>
                        </li>
                        <li>
                            supprimer plusieurs enregistrement avec le code suivant (on suprime les personne du services contrôle)
                            <strong>
                                <code>
                                    DELETE FROM employes WHERE service = "contrôle";
                                </code>
                            </strong>
                        </li>
                       </ul>
                    </div>
                   
                </div>
            </div>
            <div class="row border border-dark p-5">
                <div class="col-sm-12">
                    <h2 class="text-center">13 - requetes imbriquée</h2>
                    <hr>
                    <div class="col-sm-12 mt-5">
                        <ul>
                            <li>
                                Consiste à executer une requette à l'interieur d'une autre requète , encapsuler dans une autre requete, il n'y a pas de limite dans le nombre de niveaux d'imbrication.
                            </li>
                            <li>
                                le resultat de chaque requette imbriquée sert de valeur de référence dans la codition de sélection de la requête de niveau supèrieur
                            </li>
                            <li>
                                afin d'avoire un cas concret et un contxte favorable a   ce type de contexte, nous allpns modèliser la base de données d'une bibilothèque.
                            </li>
                        </ul>
                        <h4 class="text-center">1 - une BDD bibilothèque</h4>
                        <p>Les sujectz d'une BDD bibilothèque</p>
                        <ul>
                            <li>
                                une tabele des <strong>livres</strong>
                            </li>
                            <li>
                                une table des <strong>abonnés</strong>
                            </li>
                        </ul>
                        <p class="alert alert-danger">

                        </p>
                        <div class="col-sm-12 row">
                            <div class="col-sm-12 col-md-4">
                                <img src="assets/img/abonne.png" alt="image table abonee" class="img-fluid">
                            </div>
                            <div class="col-sm-12 col-md-4">
                                <img src="assets/img/livre.png" alt="image représentent la tabvble des livre" class="img-fluid">
                            </div>
                            <div class="col-sm-12 col-md-4">
                                <img src="assets/img/emprunt.png" alt="table emprunt" class="img-fluid">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row border border-dark p-5">
                <div class="col-sm-12">
                    <h2 class="text-center">13 - requetes imbriquée</h2>
                    <hr>
                    <div class="col-sm-12 mt-5">
                        <ul>
                            <li>
                                Consiste à executer une requette à l'interieur d'une autre requète , encapsuler dans une autre requete, il n'y a pas de limite dans le nombre de niveaux d'imbrication.
                            </li>
                            <li>
                                le resultat de chaque requette imbriquée sert de valeur de référence dans la codition de sélection de la requête de niveau supèrieur
                            </li>
                            <li>
                                afin d'avoire un cas concret et un contxte favorable a   ce type de contexte, nous allpns modèliser la base de données d'une bibilothèque.
                            </li>
                        </ul>
                        <h4 class="text-center">1 - une BDD bibilothèque</h4>
                        <p>Les sujectz d'une BDD bibilothèque</p>
                        <ul>
                            <li>
                                une tabele des <strong>livres</strong>
                            </li>
                            <li>
                                une table des <strong>abonnés</strong>
                            </li>
                        </ul>
                        <p class="alert alert-danger">
                            Ici, on comence à modéliser notre base de donée en réflechissant à ce qui va aller dedans
                        </p>
                        <div class="col-sm-12 row">
                            <ul>
                                <li>
                                    <h6>Création de la BDD</h6>
                                    <strong>
                                        <code>
                                            -> CREATE DATABASE IF NOT EXISTS bibliotheque
                                            DEFAULT CHARACTER SET = 'utf8mb4';
                                        </code>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-12 row">
                            <ul>
                                <li>
                                    <h6>Création de la première table abonnés</h6>
                                    <strong>
                                        <code>
                                           CREATE TABLE IF NOT EXISTS abonnes (id_abonne INT(11) NOT NULL PRIMARY KEY AUTO_INCREMENT, prenom VARCHAR(30) NOT NULL);
                                        </code>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-12 row">
                            <ul>
                                <li>
                                    <h6>Création de la deuxième table livres</h6>
                                    <strong>
                                        <code>
                                           CREATE TABLE IF NOT EXISTS livres (id_livres INT(11) NOT NULL PRIMARY KEY AUTO_INCREMENT, auteur VARCHAR(30) NOT NULL,
                                           titre VARCHAR(30) NOT NULL);
                                        </code>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-12 row">
                            <ul>
                                <li>
                                    <h6>Création de la troisième table</h6>
                                    <strong>
                                        <code>
                                           CREATE TABLE IF NOT EXISTS emprunt (
                                            id_emprunt INT(3) NOT NULL PRIMARY KEY AUTO_INCREMENT, 
                                            date_sortie DATE NULL,
                                            date_rendu DATE NULL
                                            id_livres INT(3)  NULL
                                            id_abonne INT(3) NULL
                                            );
                                        </code>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-12 ">
                            <ul>
                                <li>
                                    <h6>Création des clefs etrangères</h6>
                                    dans la table emprun, id_livres sera un champs clefs etrangères en réference au champ id_livre de la table livres <br>
                                    <strong>
                                        <code>
                                           -> ALTER TABLE emprunt ADD FOREIGN KEY (id_livre) REFERENCES bibliotheque.livres(id_livre);
                                           ->ALTER TABLE emprunt ADD FOREIGN KEY (id_abonne) REFERENCES bibliotheque.abonnes(id_abonne);
                                        </code>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-12 ">
                            <h6 class="text-center">Insérer des donne dans les table</h6>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <ul>
                                <li>
                                    <strong>
                                        <code>
                                            INSERT INTO abonne (prenom) VALUES <br>
                                            ('guillaume'),<br>
                                            ('Benoit'),<br>
                                            ('Patrick'),<br>
                                            ('jalloul'),<br>
                                            ('Jamila');<br>
                                        </code>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <ul>
                                <li>
                                    <strong>
                                        <code>
                                            INSERT INTO livres (id_livre, auteur, titre) VALUES <br>
                                                (100, 'GUY DE MAUPASSANT', 'Une vie'), <br>
                                                (101, 'GUY DE MAUPASSANT', 'Bel-Ami '), <br>
                                                (102, 'HONORE DE BALZAC', 'Le père Goriot'), <br>
                                                (103, 'ALPHONSE DAUDET', 'Le Petit chose'), <br>
                                                (104, 'ALEXANDRE DUMAS', 'La Reine Margot'), <br>
                                                (105, 'ALEXANDRE DUMAS', 'Les Trois Mousquetaires');
                                        </code>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <ul>
                                <li>
                                    <code>INSERT INTO emprunt (id_emprunt, id_livre, id_abonne, date_sortie, date_rendu) VALUES <br>
                                        (NULL, 100, 1, '2014-12-17', '2014-12-18'), <br>
                                        (NULL, 101, 2, '2014-12-18', '2014-12-20'), <br>
                                        (NULL, 100, 3, '2014-12-19', '2014-12-22'), <br>
                                        (NULL, 103, 4, '2014-12-19', '2014-12-22'), <br>
                                        (NULL, 104, 1, '2014-12-19', '2014-12-28'), <br>
                                        (NULL, 105, 2, '2015-03-20', '2015-03-26'), <br>
                                        (NULL, 105, 3, '2015-06-13', NULL), <br>
                                        (NULL, 100, 2, '2015-06-15', NULL);</code>
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-12 mt-5">
                            <h6>exemple de requête</h6>
                            <ul>
                                <li>
                                    on cherche les livres qui n'ont pas encor ete rendue : <br>
                                    <strong>
                                        <code>
                                            -> SELECT id_livre FROM emprunt WHERE date_rendu IS NULL;
                                        </code>
                                    </strong>
                                </li>
                                <li class="alert alert-danger">Pour trouver un resultat qui es null on utillise le terme IS
                                    <strong>
                                        <code>
                                            SELECT id_livre FROM emprunt WHERE date_rendu = NULL;  (AUCUN RESULTAT!!!!)
                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    on cherche les titre des livres qui n'ont pas ete rendue : 
                                    <strong>
                                        <code>
                                            SELECT titre FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt WHERE date_rendu IS NULL);

                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    on cherche maitenan les id des livres que patrick a emprunté <br>
                                    si je connais l'id de patrick je peux exécuter :
                                    <strong>
                                        <code>
                                            -> SELECT id_livre FROM emprunt WHERE id_abonne = 3;
                                        </code>
                                    </strong><br>
                                    si je ne connais pas l'id de patrick <br>
                                    <strong>
                                        <code>
                                            -> SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes  WHERE prenom = 'patrick')
                                        </code>
                                    </strong> <br>
                                    maintenant on recupère les titres avec comme seul information prenom = patrick <br>
                                    <strong>
                                        <code>
                                            ->SELECT titre FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = 'patrick'));
                                        </code>
                                    </strong> <br>
                                </li>
                                <li>
                                    On cherche maintenant le prénom des abonée ayant emprunté un livre le 2014-12-19
                                    <strong>
                                        <code>
                                            -> SELECT prenom FROM abonnes WHERE id_abonne IN (SELECT id_abonne FROM emprunt WHERE date_sortie = "2014-12-19");
                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    Afficher la liste des abonnée ayant emprunter un livre de Dodet
                                    <strong>
                                        <code>
                                          -> SELECT * FROM abonnes WHERE id_abonne IN (SELECT id_abonne FROM emprunt WHERE id_livre in (SELECT id_livre FROM livres WHERE auteur LIKE "%DAUDET%" ));

                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    afficher les titres de livre que Benoit a emprunter a la bibliotèque
                                    <strong>
                                        <code>
                                            -> SELECT titre FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = "Benoit"));

                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    Afficher les titres des livres que Benoit n'a pas emprunté
                                    <strong>
                                        <code>
                                            -> SELECT titre FROM livres WHERE id_livre NOT IN (SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = "Benoit"));

                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    Afficher les titres des livres que Benoit n'a pas encore rendu à la bibliothèque

                                    <strong>
                                        <code>
                                            -> SELECT titre FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = "Benoit") AND date_rendu IS NULL);
                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    Combien de livres Guillaume a emprunté à la bibliothèque ?
                                    <strong>
                                        <code>
                                            SELECT COUNT(titre) FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = "Guillaume"));
                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    Quel est le livre qui n'a été emprunté par personne
                                    <strong>
                                        <code>
                                            SELECT titre FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = "Guillaume"));

                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    Combien de personnes ont emprunté le livre Une vie ?
                                    <strong>
                                        <code>
                                            SELECT COUNT(prenom) FROM `abonnes` WHERE id_abonne IN (SELECT id_abonne FROM emprunt WHERE id_livre IN (SELECT id_livre FROM livres WHERE titre = "Une vie"));
                                        </code>
                                    </strong> <br>
                                    <strong>
                                        <code>
                                            -> SELECT COUNT(id_abonne) FROM emprunt WHERE id_livre IN (SELECT id_livre FROM livres WHERE titre = "Une vie");
                                        </code>
                                    </strong>
                                </li>
                                <li>
                                    Quel livre a été emprunté le dernier ?
                                    <strong>
                                        <code>
                                            SELECT titre FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt ORDER BY date_sortie DESC) LIMIT 0,1;
                                        </code>
                                    </strong>
                                </li>

                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row m-2 border border-dark p-5">

                    <div class="col-sm-12">
                        <h2 class="text-center">14 - Les jointures </h2>
                        <hr>
                        <div>
                            <div class="col-sm-12 mt-5">
                                <ul>
                                    <li>
                                        Les requettes de jointure permette l'extractions des données de plusieurs tables
                                    </li>
                                    <li>
                                        L'avantage des jointure est que l'on peut obtenir dans le résultat finale des colonnes (des champs) issues de plusieurs tables differentes 
                                    </li>
                                    <h6>Récapitulatif</h6>
                                    <li>
                                        <code>SELECT</code> va comporterla liste des champs que je souhaite afficher dans mon résultat
                                    </li>
                                    <li>
                                        <code>FROM</code> je précise de quelle table je me sert dans ma requête
                                    </li>
                                    <li>
                                       <code> WHERE</code> va me permètre de definire la condition de jointure pour assurer le croisement des données
                                    </li>
                                    <li>
                                        <code>AND/OR </code>: autre condition néssesaire à mon resultat
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-sm-12 mt-5">
                            <ul>
                                <li>
                                    Dans la bibliothèque, afficher les date auxquelle Guillaume s'est rendu à la bibliothèque pour rempruter ou rendre un livre , on a besoin de trois colone s: nom, prénom, date de rendue
                                    <br>
                                    <strong>
                                        <code>
                                            SELECT abonnes.prenom, emprunt.date_sortie,emprunt.date_rendu FROM abonnes, emprunt WHERE abonnes.prenom = "guillaume" AND abonnes.id_abonne = emprunt.id_abonne;
                                        </code>
                                    </strong> <br>
                                </li>
                                <li>
                                    qui a emprunter le livre une vie en 2014,   afficher le prenom, date de sortie et le tire du livre
                                    <strong>
                                        <code>

                                        </code>
                                    </strong> <br>
                                </li>
                                <li>
                                    afficher le nombre de livre emprunter par chaques abonnes : le prenom , et le nombre de livres emprunter
                                    <strong>
                                         <code>
                                            SELECT abonnes.prenom,COUNT(emprunt.id_livre) FROM abonnes,emprunt WHERE abonnes.id_abonne = emprunt.id_abonne GROUP BY emprunt.id_abonne;
                                         </code> <br>
                                    </strong>
                                </li>
                                <li>
                                    Qui a emprunter quoi et quand : prenom titre date de sortie
                                    <strong>
                                        <code>
                                            SELECT abonnes.prenom, emprunt.date_sortie, livres.titre FROM abonnes, emprunt, livres WHERE abonnes.id_abonne = emprunt.id_abonne AND livres.id_livre = emprunt.id_livre
                                        </code>
                                    </strong> 
                                </li>
                                <li>
                                    Afficher le prénom des abonee avec l'id des livres emprunter: <br>
                                    <strong>
                                        <code>
                                            SELECT abonnes.prenom, emprunt.id_livre FROM abonnes, emprunt WHERE abonnes.id_abonne = emprunt.id_abonne;ù
                                        </code>
                                    </strong>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>
        </main>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
</body>

</html>